Описание
========

Отправка уведомлений по расписанию. Расписание хранится в БД.

Два основных варианта отправки - регулярная отправка (ежедневно, с дополнительными условиями) и единоразовая.

Добавление расписаний
=====================

Варианты добавления:
- INSERT INTO `sm_dates`
- отправка специально сформированного email

Отправление уведомлений
=======================

Варианты отправки:
- по email
- SMS
- RSS
- messengers


Описание таблицы расписания `sm_dates`
======================================

`date` - дата отправки или '0000-00-00' для регулярной отправки
`time` - время отправки
`last_send` - дата последней отправки (служебное поле)
`message` - текст сообщения (70 символов для унификации)

Условия регулярной отправки
`exclude_weekday` - исключить дни (в двоичном формате), первый день недели - Вс - по причине работы функции DAYOFWEEK()

Представление `sm_schedule` служит для наглядности.

Механизм работы
===============

SQL
---

Получение всех регулярных уведомлений для отправки

    SELECT * FROM `sm_dates` WHERE `date` = '0000-00-00' AND `last_send` <= ADDDATE(NOW(), INTERVAL -1 DAY);

